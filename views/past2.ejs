<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="/stylesheets/newPresentStyle.css">
    <title>Human Music</title>
</head>
<body>

<div class="modal" tabindex="-1" role="dialog" id="loginModal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Login</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <h5>If you have an account, here you can login. If not, you can register <a href="/register">here</a></h5>
                <form action="/login" method="POST">
                    <div class="row align-items-center">
                        <div class="col-12" style="margin-bottom: 16px;">
                            <label for="loginUsername" class="clock">Username</label>
                            <input type="text" name="username" placeholder="Username" id="loginUsername" required>
                            <label for="loginPassword" class="clock">Password</label>
                            <input type="password" name="password" placeholder="Password" id="loginPassword" required>
                        </div>
                        <div class="col-12">
                            <button type="submit" class="btn btn-success">Login</button>
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="exampleModalLabel">Add New Recommendation</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form action="/" method="POST">
                <div class="form-group">
                    <label for="videoURL" class="col-form-label">Youtube URL of your recommendation [https://www.youtube.com/watch?v=ZOu3aJ8RDqw]:</label>
                    <input class="form-control" id="videoURL" type="text" name="url">
                </div>
                <div class="form-group">
                    <label for="descriptionTextArea" class="col-form-label">What does this piece mean to you?</label>
                    <textarea class="form-control" rows="10" cols="33" id="descriptionTextArea" name="description"></textarea>
                </div>
                <div class="form group">
                    <label for="userCheckbox" class="col-form-label">Was this created by you?</label>    
                    <input type="checkbox" id="userCheckbox" name="wasCreatedByUser" value="true">
                </div>
                <div class="form group"></div>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Add Recommendation</button>
                </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="container text-center">
    <div class="navigationBar">
        <p><span id="pastSpan" class="activeTense"><a href="/past">PAST</a></span><span id="presentSpan"><a href="/">PRESENT</a></span><span id="futureSpan"><a href="/future">FUTURE</a></span></p>
    </div>
    <div class="clock">
        <p><%= today %> | <span id="presentClock">88:88:88</span></p>
    </div>
</div>

<div class="box">
    <div class="column left"></div>
    <div id="middleColumn" class="column middle text-center">

        <div class="container text-center pastDescription">
            <p>Each new day starts with a recommendation of a film that is important. After the film, the day is filled with music 
              recommendations that will be brought from the future to the present, one by one, until the day is over and a new film comes. 
              You can click the name of the film of the day to check out which were the recommendations of that particular day.
            </p>  
            <p>If you want to add a recommendation to the future so that it can afterwards be part of this past, <a href="/recommendations/new">click here.</a></p>
            <p>
                Enjoy our collective creation and the most diverse recommendation algorythm in the world. 
            </p>
        </div>

        <table class="table content">
            <thead>
              <tr>
                <th scope="col">Index</th>
                <th scope="col">Date</th>
                <th scope="col">Total Recommendations</th>
                <th scope="col">Status</th>
              </tr>
            </thead>
            <tbody>
              <% days.reverse().forEach(function(day){ %>
                <tr>
                  <td><%= day.dayIndex %></td>
                  <td><a href="/days/<%= day.daySKU %>"><%= day.daySKU %></a></td>
                  <td><%= day.totalRecommendationsOfThisDay %></td>
                  <td><%= day.status %></td>
                </tr>
              <% }) %>
            </tbody>
          </table>
          <div class="text-center">
            <a class="btn btn-success btn-sm" href="/random">Random Recommendation</a>
          </div>
          <hr>
          <div class="container text-center pastDescription">
            <p>Each time that the system generates a new day and there is not enough recommendations in the future for it to fit the new day, all the 
                recommendations are sent to the future and a new cycle starts. There will be one day when the rate of recommendations will exceed the 
                rate at which they are played, and that will be the day when the whole system enters a state of perpetual motion. That day will be 
                when the infinite loop of music will start. 
            </p> 
            <p>Down here you can check out all the cycles that have gone through until now.</p> 
        </div>
          <table class="table content">
            <thead>
              <tr>
                <th scope="col">Cycle Index</th>
                <th scope="col">Starting Time</th>
                <th scope="col">Cycle Duration</th>
              </tr>
            </thead>
            <tbody>
                <% cycles.reverse().forEach(function(cycle){ %>
                    <tr>
                      <td><a href="/cycles/<%= cycle.cycleIndex %>"><%= cycle.cycleIndex %></a></td>
                      <td><%= cycle.startingDate.toUTCString() %></td>
                      <td><%= cycle.cycleDuration %></td>
                    </tr>
                  <% }) %>
            </tbody>
          </table>

    </div>
    <div class="column right"></div>
</div>

<%- include("./partials/newFooter") %>